<%- include('../header') %>

    <div class="dashboard-container container-fluid">

        <!-- Hero Section -->
        <section class="hero-section py-5">
            <div class="dashboard-hero text-center mb-5">
                <h1 class="display-5 fw-bold text-primary mb-3">Rajasthani Cuisine</h1>
                <p class="lead text-muted max-width-600 mx-auto">
                    Experience the royal flavors of Rajasthan ‚Äì rich, spicy, and full of tradition.
                </p>
            </div>
        </section>

        <!-- Rajasthani Dishes Grid -->
        <section class="food-categories">
            <div class="container">
                <div class="row g-4 justify-content-center">

                    <% if (dishFound && dishFound.length> 0) { %>

                        <!-- All Dish -->
                        <% dishFound.map(item=> {%>
                            <div class="col-lg-4 col-md-6">
                                <div class="card category-card shadow-lg border-0">
                                    <div class="category-img-container">
                                        <img src="/<%= item.dish_image %>" class="card-img-top" alt="Dal Baati Churma">
                                        <div class="category-overlay">
                                            <span class="badge 
                                            <%= item.dish_flavour === 'Spicy' ? 'bg-danger' :
                                            item.dish_flavour === 'Sweet' ? 'bg-warning text-dark' :
                                            item.dish_flavour === 'Tangy' ? 'bg-success' :
                                            'bg-secondary' %>">
                                                <%= item.dish_flavour %>
                                            </span>

                                        </div>
                                    </div>
                                    <div class="card-body text-center p-4">
                                        <% const flavourIcons={ Spicy: { icon: "fa-pepper-hot" , color: "text-danger" },
                                            Sweet: { icon: "fa-candy-cane" , color: "text-warning" }, Tangy: {
                                            icon: "fa-lemon" , color: "text-success" }, Mild: { icon: "fa-leaf" ,
                                            color: "text-primary" } }; const current=flavourIcons[item.dish_flavour] ||
                                            { icon: "fa-utensils" , color: "text-secondary" }; %>

                                            <div class="category-icon mb-3">
                                                <i class="fas <%= current.icon %> fa-2x <%= current.color %>"></i>
                                            </div>


                                            <h3 class="card-title fw-bold text-primary">
                                                <%= item.dish_name %>
                                            </h3>
                                            <p class="card-text text-muted">
                                                <%= item.dish_desc %>
                                            </p>
                                            <span class="badge bg-light text-dark">
                                                ‚Çπ <%= item.dish_price %>
                                            </span>

                                            <!-- Edit & Delete Buttons -->
                                            <div class="d-flex gap-2 justify-content-center mt-3">
                                                <a href="/addRajasthaniDishPage/rajasthaniFoodEditPage/<%= item.id %>"
                                                    class="btn btn-warning btn-sm text-white">
                                                    <i class="fa-solid fa-pen me-1"></i> Edit
                                                </a>
                                                <a href="/addRajasthaniDishPage/rajasthaniDishDelete/<%= item.id %>"
                                                    class="btn btn-danger btn-sm">
                                                    <i class="fa-solid fa-trash me-1"></i> Delete
                                                </a>
                                            </div>
                                    </div>

                                </div>
                            </div>
                            <% }) %>

                                <% } else { %>

                                    <!-- No Dishes Message -->
                                    <div class="col-12 text-center mt-5">
                                        <h3 class="text-muted fw-bold">No dishes available üçΩÔ∏è</h3>
                                        <p class="text-secondary">Please add some South Indian dishes to display here.
                                        </p>
                                    </div>

                                    <% } %>
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <div class="container-fluid">
            <div class="row mt-5 pt-4">
                <div class="col-12">
                    <div class="stats-container p-4 rounded-3 shadow-sm bg-light">
                        <h4 class="text-center mb-4 fw-bold">Rajasthani Food Stats</h4>
                        <div class="row text-center">
                            <div class="col-md-4 col-6 mb-3">
                                <div class="stat-item">
                                    <h2 class="display-6 fw-bold text-primary">
                                        <%= dishFound.length %>+
                                    </h2>
                                    <p class="text-muted">Traditional Dishes</p>
                                </div>
                            </div>
                            <div class="col-md-4 col-6 mb-3">
                                <div class="stat-item">
                                    <h2 class="display-6 fw-bold text-primary">100%</h2>
                                    <p class="text-muted">Authentic Taste</p>
                                </div>
                            </div>
                            <div class="col-md-4 col-6 mb-3">
                                <div class="stat-item">
                                    <h2 class="display-6 fw-bold text-primary">Royal</h2>
                                    <p class="text-muted">Food Heritage</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <%- include('../footer') %>