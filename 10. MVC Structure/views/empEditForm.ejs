<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Registration | Premium Form</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">

    <link rel="stylesheet" href="/public/style.css">
</head>

<body>
    <div class="form-container">
        <!-- Form Header -->
        <div class="form-header">
            <h1>Employee Edit Form</h1>
            <p>Edit & Update employees with our streamlined form. All fields are secured and validated.</p>
            <span class="badge"><i class="bi bi-shield-check me-2"></i>Secure & Encrypted</span>
        </div>

        <!-- Form Content -->
        <div class="form-content">
            <form method="post" action="/empForm/updateEmp/<%= findEmp.id %>">
                <!-- Name Field -->
                <div class="form-floating-group">
                    <i class="bi bi-person input-icon"></i>
                    <input type="text" class="form-floating-input" name="employeeName"
                        value="<%= findEmp.employeeName %>" required>
                    <label class="form-floating-label" for="employeeName">Full Name</label>
                    <div class="status-indicator"></div>
                </div>

                <!-- Email Field -->
                <div class="form-floating-group">
                    <i class="bi bi-envelope input-icon"></i>
                    <input type="email" class="form-floating-input" id="employeeEmail" name="employeeEmail"
                        value="<%= findEmp.employeeEmail %>" required>
                    <label class="form-floating-label" for="employeeEmail">Email Address</label>
                    <div class="status-indicator"></div>
                    <div class="form-text">Company email address for official communication</div>
                </div>

                <!-- Role Selection - WORKING DROPDOWN -->
                <div class="form-floating-group">
                    <i class="bi bi-briefcase input-icon"></i>
                    <select class="form-floating-input" id="employeeRole" name="employeeRole" required>
                        <% ["Select","Owner", "Manager" , "HR Manager" , "Team Lead" , "Senior Developer" , "Developer"
                            , "Intern" ].map((emp)=> { %>

                            <option value="<%= emp %>" <%=findEmp.employeeRole===emp ? "selected" :"" %>>
                                <%= emp%>
                            </option>
                            <%}) %>
                    </select>
                    <label class="form-floating-label" for="employeeRole">Employee Role</label>
                    <i class="bi bi-chevron-down select-arrow"></i>
                    <div class="form-text">Select the employee's position in company</div>
                </div>

                <!-- Salary Field -->
                <div class="form-floating-group">
                    <i class="bi bi-currency-dollar input-icon"></i>
                    <input type="number" class="form-floating-input" id="employeeSalary" name="employeeSalary"
                        value="<%= findEmp.employeeSalary %>" required>
                    <label class="form-floating-label" for="employeeSalary">Monthly Salary (â‚¹)</label>
                    <div class="status-indicator"></div>
                    <div class="form-text">Monthly salary in Indian Rupees</div>
                </div>

                <!-- Gender Selection -->
                <div class="option-group">
                    <span class="option-group-title">
                        <i class="bi bi-gender-ambiguous me-2"></i>Gender
                    </span>
                    <div class="option-items">
                        <label class="option-item">
                            <input type="radio" name="gender" value="Male" <%=findEmp.gender==="Male" ?"checked":""%>>
                            <span class="custom-radio"></span>
                            <span class="option-label">Male</span>
                        </label>
                        <label class="option-item">
                            <input type="radio" name="gender" value="Female" <%=findEmp.gender==="Female"
                                ?"checked":""%>>
                            <span class="custom-radio"></span>
                            <span class="option-label">Female</span>
                        </label>
                    </div>
                </div>

                <!-- Additional Notes -->
                <div class="form-floating-group">
                    <i class="bi bi-chat-left-text input-icon"></i>
                    <textarea class="form-floating-input" id="employeeNotes" name="employeeNotes"
                        rows="3"><%= findEmp.employeeNotes %></textarea>
                    <label class="form-floating-label" for="employeeNotes">Additional Notes</label>
                    <div class="form-text">Optional: Add any special requirements or notes</div>
                </div>

                <!-- Form Actions -->
                <div class="form-actions">
                    <button class="btn btn-primary">
                        <a href="/empForm/viewAllEmployee" class="text-light text-decoration-none">
                            <- Back </a>
                    </button>

                    <button type="submit" class="btn btn-primary">
                        <i class="bi bi-person-plus-fill"></i>
                        Updates Employee
                    </button>


                    <button type="reset" class="btn btn-primary">
                        <i class="bi bi-arrow-clockwise"></i>
                        Reset Form
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Minimal JavaScript only for visual feedback (can be removed if needed)
        document.addEventListener('DOMContentLoaded', function () {
            // Add focus effect to form groups
            const inputs = document.querySelectorAll('.form-floating-input');

            inputs.forEach(input => {
                input.addEventListener('focus', function () {
                    this.parentElement.classList.add('form-group-focused');
                });

                input.addEventListener('blur', function () {
                    this.parentElement.classList.remove('form-group-focused');
                });

                // Initialize label position if field has value
                if (input.value.trim() !== '') {
                    input.setAttribute('data-has-value', 'true');
                }

                input.addEventListener('input', function () {
                    if (this.value.trim() !== '') {
                        this.setAttribute('data-has-value', 'true');
                    } else {
                        this.removeAttribute('data-has-value');
                    }
                });
            });
        });
    </script>
</body>

</html>